<!-- Based on: https://github.com/mdbootstrap/bootstrap-5-admin-template/ -->
<!-- Single file, lot of CDN, low size. -->
<!-- Minify: https://medium.com/@panklokka/free-html-minifier-online-no-limitations-totally-free-syscotools-cc915aaeb75a -->

<!DOCTYPE html>
<html lang="en" data-mdb-theme="dark">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Visualedizer</title>
  <!--
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css" rel="stylesheet"/>
  -->
  <link href="res/mdb.min.css" rel="stylesheet"/>
  <style>
    @font-face {
      font-family: 'Roboto';
      src: url('res/roboto/regular.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    body {
      font-family: 'Roboto', sans-serif;
    }

    @media (min-width: 991.98px) {
      main {
        padding-left: 240px;
      }
    }

    @media (max-width: 460px) {
      #main-navbar.container-fluid{
        height: 200px;
      }
      main>.container:first-child {
        margin-top: 6em;
      }
      #sidebarMenu {
        margin-top: 4em;
      }
    }
    
    #conf .form-outline {
      max-width: 300px;
    }

    #main-navbar {
      background-color: rgb(48, 48, 48);
    }

    .sidebar {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
      padding: 58px 0 0;
      box-shadow: 0 2px 5px 0 rgb(0 0 0 / 5%), 0 2px 10px 0 rgb(0 0 0 / 5%);
      width: 240px;
      z-index: 600;
    }

    @media (max-width: 991.98px) {
      .sidebar {
        width: 100%;
      }
    }
    
    .sidebar .active {
      border-radius: 5px;
      box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
    }

    .sidebar-sticky {
      position: relative;
      top: 0;
      height: calc(100vh - 48px);
      padding-top: 0.5rem;
      overflow-x: hidden;
      overflow-y: auto;
    }

    .icon {
      width: 16px;
      height: 16px;
      margin-top: -2px;
      fill: #888;
    }

    .icon-2x {
      width: 32px;
      height: 32px;
      fill: #888;
    }

    a.active .icon {
      fill: #fff;
    }

    #sidebarMenu .icon {
      margin-left: -4px;
      margin-right: 4px;
    }

    .content {
      display: none;
    }

    .custom-range::-webkit-slider-runnable-track {
      background-image: var(--mdb-gradient);
    }

    .hue-colors {
      border: 1px solid #000;
      border-radius: 5px;
      width: 100%;
      height: 1em;    

      background: linear-gradient(to right, 
        hsl(0, 100%, 50%) 0%, 
        hsl(30, 100%, 50%) 8.33%, 
        hsl(60, 100%, 50%) 16.66%, 
        hsl(120, 100%, 50%) 33.33%, 
        hsl(240, 100%, 50%) 66.66%, 
        hsl(300, 100%, 50%) 83.33%, 
        hsl(360, 100%, 50%) 100% 
      );
    }
  </style>
</head>

<body>
  <header>
    <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse" style="background-color: rgb(48, 48, 48);">
      <div class="position-sticky">
        <div class="list-group list-group-flush mx-3 mt-4">
          <a href="#" class="list-group-item list-group-item-action py-2 ripple" data-content-id="solid-color">
            <!-- <i class="fas fa-solid fa-palette fa-fw me-3"></i> -->
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/></svg>
            <span>Solid color</span>
          </a>
          <a href="#" class="list-group-item list-group-item-action py-2 ripple" data-content-id="gradient">
            <!-- <i class="fas fa-circle-half-stroke fa-fw me-3"></i> -->
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M448 256c0-106-86-192-192-192l0 384c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/></svg>
            <span>Gradient</span>
          </a>
          <a href="#" class="list-group-item list-group-item-action py-2 ripple" data-content-id="rainbow">
            <!-- <i class="fas fa-rainbow fa-fw me-3"></i> -->
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M320 96C178.6 96 64 210.6 64 352l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96C0 175.3 143.3 32 320 32s320 143.3 320 320l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96C576 210.6 461.4 96 320 96zm0 192c-35.3 0-64 28.7-64 64l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-70.7 57.3-128 128-128s128 57.3 128 128l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-35.3-28.7-64-64-64zM160 352l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-123.7 100.3-224 224-224s224 100.3 224 224l0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96c0-88.4-71.6-160-160-160s-160 71.6-160 160z"/></svg>
            <span>Rainbow</span>
          </a>
          <a href="#" class="list-group-item list-group-item-action py-2 ripple" data-content-id="strobe">
            <!-- <i class="fas fa-bolt fa-fw me-3"></i> -->
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288l111.5 0L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7l-111.5 0L349.4 44.6z"/></svg>
            <span>Strobe</span>
          </a>
          <a href="#" class="list-group-item list-group-item-action py-2 ripple" data-content-id="strobe-random">
            <!-- <i class="fas fa-bolt fa-fw me-3"></i> -->
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M0 256L28.5 28c2-16 15.6-28 31.8-28H228.9c15 0 27.1 12.1 27.1 27.1c0 3.2-.6 6.5-1.7 9.5L208 160H347.3c20.2 0 36.7 16.4 36.7 36.7c0 7.4-2.2 14.6-6.4 20.7l-192.2 281c-5.9 8.6-15.6 13.7-25.9 13.7h-2.9c-15.7 0-28.5-12.8-28.5-28.5c0-2.3 .3-4.6 .9-6.9L176 288H32c-17.7 0-32-14.3-32-32z"/></svg>
            <span>Random strobe</span>
          </a>
        </div>
      </div>
    </nav>

    <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light fixed-top">
      <div class="container-fluid">
        <button data-mdb-collapse-init class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#sidebarMenu"
          aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
          <!-- <i class="fas fa-bars"></i> -->
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/></svg>
        </button>

        <a class="navbar-brand" href="#">
          <!-- <i class="fa-solid fa-power-off fa-2x"></i> -->
          <svg class="icon-2x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 224c0 17.7 14.3 32 32 32s32-14.3 32-32l0-224zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"/></svg>
        </a>
        
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="chbMain" />
          <label class="form-check-label" for="chbMain">On/off</label>
        </div>

        <ul class="navbar-nav ms-auto d-flex flex-row align-items-center">
          <li class="nav-item me-3 me-lg-0">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="chbUseWebSockets" />
              <label class="form-check-label" for="chbUseWebSockets">Use web sockets</label>
            </div>
          </li>

          <li class="nav-item me-3 me-lg-0">
            <a class="nav-link" target="_blank" href="https://github.com/Otrozone/Visualedizer">
              <!-- <i class="fab fa-github"></i> -->
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
            </a>
          </li>

          <li class="nav-item me-3 me-lg-0">
            <a class="nav-link" href="#" data-content-id="conf">
              <!-- <i class="fa-solid fa-gear"></i> -->
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <main style="margin-top: 58px">
    <div class="container pt-4">

      <section class="mb-4">
        <div class="card">
          <div class="card-header py-3">
            <h5 class="mb-0 text-center" id="cardTitle"><strong>Title</strong></h5>
          </div>
          <div class="card-body">
            
            <div class="content" id="solid-color">
              <section class="w-100 p-4">
                <label for="colorPicker" class="form-label">Select color</label>
                <input type="color" class="form-control form-control-color" id="colorPicker" value="#8A6438" title="Choose your color" data-param-name="color">
              </section>
            </div>
    
            <div class="content" id="gradient">
              <h2>Gradient</h2>
              <label class="form-label" for="rngHueStart">Hue start</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="360" step="5" id="rngHueStart" data-param-name="hueStart" />
              </div>

              <div class="hue-colors"></div>

              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="360" step="5" id="rngHueEnd" data-param-name="hueEnd" />
              </div>
              <label class="form-label" for="rngHueEnd">Hue end</label>
              <br><br>

              <label class="form-label" for="rngBrightness">Brightness</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" id="rngBrightness" data-param-name="brightness"/>
              </div>
            </div>    

            <div class="content" id="rainbow">
              <h2>Rainbow</h2>

              <label class="form-label" for="rngDelay">Delay</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="200" step="5" value="50" id="rngDelay" data-param-name="delay" />
              </div>

              <label class="form-label" for="rngStep">Step</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="1" max="50" step="1" value="4" id="rngStep" data-param-name="step" />
              </div>

              <label class="form-label" for="rngDelta">Delta</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="1" max="50" step="1" value="7" id="rngDelta" data-param-name="delta" />
              </div>
            </div>

            <div class="content" id="strobe">
              <h2>Strobe</h2>

              <input type="color" class="form-control form-control-color" id="colorStrobe" value="#F3E7D3" title="Choose your color" data-param-name="color">

              <label class="form-label" for="rngDelay1">Delay 1</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="1000" step="10" value="400" id="rngDelay1" data-param-name="delay1" />
              </div>

              <label class="form-label" for="rngDelay2">Delay 2</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="1000" step="10" value="400" id="rngDelay2" data-param-name="delay2" />
              </div>

            </div>

            <div class="content" id="strobe-random">
              <h2>Random strobe</h2>
              
              <input type="color" class="form-control form-control-color" id="colorStrobe" value="#F3E7D3" title="Choose your color" data-param-name="color">
              <!--
              <label class="form-label" for="rngDelay1">Delay 1</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="1000" step="10" value="400" id="rngDelay1" data-param-name="delay1" />
              </div>
              
              <label class="form-label" for="rngDelay2">Delay 2</label>
              <div class="range" data-mdb-range-init>
                <input type="range" class="form-range" min="0" max="1000" step="10" value="400" id="rngDelay2" data-param-name="delay2" />
              </div>
              -->
            </div>

            <div class="content" id="conf">
              <h2>Configuration</h2>

              <ul class="list-group list-group-light">
                <li class="list-group-item px-3">
                  <div class="form-outline" data-mdb-input-init>
                    <input type="number" id="ledCount" class="form-control" />
                    <label class="form-label" for="ssid">Led count</label>
                  </div>
                  <div id="textDetail" class="form-text">
                    Number of leds connected to this device.
                  </div>
                </li>
                <li class="list-group-item px-3">
                  <div class="form-outline mb-2" data-mdb-input-init>
                    <input type="text" id="ssid" class="form-control" />
                    <label class="form-label" for="ssid">WiFi SSID</label>
                  </div>
                  <div class="form-outline" data-mdb-input-init>
                    <input type="password" id="password" class="form-control" />
                    <label class="form-label" for="password">WiFi password</label>
                  </div>                      
                </li>
                <li class="list-group-item px-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="webSockEnabled" checked>
                    <label class="form-check-label" for="webSockEnabled">
                      Web sockets enabled
                    </label>
                  </div>
                  <div class="form-text">
                    Support of the websockets.
                  </div>                      
                </li>
                <li class="list-group-item px-3">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="" id="dmxEnabled" checked>
                    <label class="form-check-label" for="dmxEnabled">
                      DMX enabled
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="dmxUnicast" checked>
                    <label class="form-check-label" for="dmxUnicast">
                      Unicast
                    </label>
                  </div>
                  <div class="form-text mb-3">
                    If not checked, multicast mode is used.
                  </div>
                  <!--<div class="form-check">
                    <input class="form-check-input" type="radio" name="dmxMode" id="dmxUnicast">
                    <label class="form-check-label" for="dmxUnicast">
                      Unicast
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="dmxMode" id="dmxMulticast" checked>
                    <label class="form-check-label" for="dmxMulticast">
                      Multicast
                    </label>
                  </div>-->
                  <div class="form-outline" data-mdb-input-init>
                    <input type="number" id="dmxUniverse" class="form-control" />
                    <label class="form-label" for="dmxUniverse">DMX universe</label>
                  </div>
                  <div class="form-text mb-3">
                    Definition of DMX universe to take the channels from (for both, the unicast and multicast mode).
                  </div>
    
                  <div class="form-outline" data-mdb-input-init>
                    <input type="number" id="dmxUniverseCount" class="form-control" />
                    <label class="form-label" for="dmxUniverseCount">DMX universe count</label>
                  </div>
                  <div class="form-text mb-3">
                    In case of multicast, number of universes to scan for the channel data.
                  </div>
                </li>
              </ul>

              <button id="confApply" type="button" class="btn btn-primary" data-mdb-ripple-init>Apply</button>
            </div>

          </div>
        </div>
      </section>

    </div>
  </main>
  
  <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.umd.min.js"></script>-->
  <script type="text/javascript" src="res/mdb.umd.min.js"></script>

  <script>
    // Menu
    const menuItems = document.querySelectorAll('*[data-content-id]');
    const contents = document.querySelectorAll('.content');
    const chbMain = document.getElementById('chbMain');
    const chbUseWebSockets = document.getElementById('chbUseWebSockets');

    menuItems.forEach((item) => {
      item.addEventListener('click', (e) => {
        const clickedItem = item;
        menuItems.forEach(item => item.classList.remove('active'));
        clickedItem.classList.add('active');
        contents.forEach(content => content.style.display = 'none');
        const correspondingContent = document.getElementById(`${clickedItem.getAttribute('data-content-id')}`);
        correspondingContent.style.display = 'block';
        document.querySelector('#cardTitle').textContent = clickedItem.textContent;

        const mediaQuery = window.matchMedia('(max-width: 992px)');
        if (mediaQuery.matches) {
          sidebarMenu.classList.remove('show');
        }

        e.preventDefault();
        // e.stopPropagation();
      });
    });

    // Configuration clicked
    const confItem = document.querySelector('[data-content-id="conf"]');
    confItem.addEventListener('click', () => {
      const config = getConf();
      Object.keys(config).forEach((key) => {
        const val = config[key];
        const element = document.getElementById[key];
        if (typeof val == "boolean") {
          element.checked = val;
        } else {
          element.value = val;
        }
      });
    });

    // Apply configuration button clicked
    document.getElementById("confApply").addEventListener('click', () => {
      const confObj = {};
      const confInputs = document.querySelectorAll("#conf input");
      confInputs.forEach((input) => {
        switch (input.getAttribute("type")) {
          case "checkbox":
            confObj[input.id] = input.checked;
            break;
          case "number":
            confObj[input.id] = parseInt(input.value);
            break;
          default:
            confObj[input.id] = input.value;
            break;
        }        
      });

      setConf(confObj);
    });

    // Set default content
    const defaultItem = document.querySelector('[data-content-id="solid-color"]');
    defaultItem.click();

    chbMain.addEventListener('input', () => {
      if (chbMain.checked) {
        const input = document.querySelector('div.content[style*="display: block"] input');
        const event = new Event('input', {
          bubbles: true,
          cancelable: true,
        });
        input.dispatchEvent(event);
      } else {
        let queryParams = `command=off`;
        updateColors(queryParams);
      }
    });

    // Inputs -> commands + params
    contents.forEach((content) => {
      const inputs = content.querySelectorAll('input');
      inputs.forEach((input) => {
        const confEl = document.getElementById("#conf");
        if (!confEl.contains(input)) { // Exclude configuration inputs
          input.addEventListener('input', () => {
            onChange(content, inputs);
          });
        }
      });
    });

    function onChange(content, inputs) {
      if (chbMain.checked) {
        let queryParams = `command=${encodeURIComponent(content.id)}`;
        inputs.forEach(input => {
          queryParams += `&${input.getAttribute('data-param-name')}=${encodeURIComponent(input.value)}`;
        });
        updateColors(queryParams);
      } else {
        console.log('The main switch is in OFF state.');
      }
    }

    // API calling
    function updateColors(params) {
      if (chbUseWebSockets.checked) {
        sendMessage(`?${params}`);
      } else {
        const apiUrl = `/update?${params}`;

        console.log(apiUrl);
        fetch(apiUrl)
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.text; // response.json();
          })
          .then(data => {
            console.log('Data received:', data);
          })
          .catch(error => {
            console.error('There was a problem with the fetch operation:', error);
          });
      }
    }

    function getConf() {
      const apiUrl = `/get-conf`;
      fetch(apiUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return JSON.parse(response.json());
        })
        .then(data => {
          console.log('Data received:', data);
        })
        .catch(error => {
          console.error('There was a problem with the fetch operation:', error);
        });
    }

    function setConf(conf) {
      const url = '/set-conf';
      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(conf)
      })
      .then(response => response.json())
      .then(data => {
        console.log('Data sent:', data);
      })
      .catch((error) => {
        console.error('Error:', error);
      });
    }

    const socket = new WebSocket(`ws://${location.hostname}:81`);

    socket.onopen = function(event) {
        console.log('WebSocket connection opened');
    };

    socket.onmessage = function(event) {
        console.log('Received message from server:', event.data);
    };

    socket.onerror = function(error) {
        console.error('WebSocket error:', error);
    };

    socket.onclose = function(event) {
        console.log('WebSocket connection closed');
    };

    function sendMessage(message) {
        socket.send(message);
    }
  </script>

</body>

</html>